"use strict";(self.webpackChunkmaptest=self.webpackChunkmaptest||[]).push([[2736],{84319:function(e,t,n){n.d(t,{$K:function(){return P},$_:function(){return b},C$:function(){return B},DQ:function(){return ae},Gg:function(){return se},Gr:function(){return re},HX:function(){return ne},Jq:function(){return he},Ll:function(){return ce},Mk:function(){return X},TB:function(){return le},UK:function(){return K},Ub:function(){return fe},Y8:function(){return k},Yw:function(){return Y},Z_:function(){return ee},cM:function(){return Q},e2:function(){return D},hj:function(){return F},iw:function(){return ue},js:function(){return ve},mR:function(){return x},nU:function(){return W},sG:function(){return te},wO:function(){return G},ws:function(){return z},xV:function(){return H},yP:function(){return de}});var r=n(4942),i=n(37762),a=n(10064),o=n(32718),u=n(48202),c=n(80613),s=n(8548),l=n(61109),v=o.Z.getLogger("esri.views.2d.engine.webgl.Utils"),f="geometry",h=[{name:f,strideInBytes:12}],y=[{name:f,strideInBytes:36}],d=[{name:f,strideInBytes:24}],S=[{name:f,strideInBytes:12}],p=[{name:f,strideInBytes:40}],L=[{name:f,strideInBytes:36}],g=[{name:f,strideInBytes:36}];function m(e){var t,n={},r=(0,i.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.name]=a.strideInBytes}}catch(o){r.e(o)}finally{r.f()}return n}var T=m([{name:f,strideInBytes:36}]),E=m(h),I=m(y),A=m(d),_=m(S),Z=m(p),V=m(L),O=m(g);function b(e,t){switch(e){case c.LW.MARKER:return t===c.mD.HEATMAP?E:T;case c.LW.FILL:switch(t){case c.mD.DOT_DENSITY:return _;case c.mD.SIMPLE:case c.mD.OUTLINE_FILL_SIMPLE:return A;default:return I}case c.LW.LINE:return Z;case c.LW.TEXT:return V;case c.LW.LABEL:return O}}var N=[f],R=[f],U=[f],w=[f],C=[f];function M(e){switch(e){case c.LW.MARKER:return N;case c.LW.FILL:return R;case c.LW.LINE:return U;case c.LW.TEXT:return w;case c.LW.LABEL:return C}}function k(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function B(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function D(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function P(e){return null!=e}function F(e){return"number"==typeof e}function z(e){switch(e){case"butt":return u.RL.BUTT;case"round":return u.RL.ROUND;case"square":return u.RL.SQUARE;default:return v.error(new a.Z("mapview-invalid-type","Cap type ".concat(e," is not a valid option. Defaulting to round"))),u.RL.ROUND}}function H(e){switch(e){case"miter":return u.AH.MITER;case"bevel":return u.AH.BEVEL;case"round":return u.AH.ROUND;default:return v.error(new a.Z("mapview-invalid-type","Join type ".concat(e," is not a valid option. Defaulting to round"))),u.AH.ROUND}}function W(e){switch(e){case"opacity":return c.pc.OPACITY;case"color":return c.pc.COLOR;case"rotation":return c.pc.ROTATION;case"size":return c.pc.SIZE;default:return v.error("Cannot interpret unknown vv: ".concat(e)),null}}function G(e,t,n,r,i,a,o){for(var u in a){var c=a[u].stride,s=k(c),l=a[u].data,v=n[u].data;if(null!=l&&null!=v)for(var f=c*i.vertexCount/s,h=c*e/s,y=c*i.vertexFrom/s,d=0;d<f;++d)v[d+h]=l[d+y]}if(null!=o&&null!=r)for(var S=i.indexCount,p=0;p<S;++p)r[p+t]=o[p+i.indexFrom]-i.vertexFrom+e}var x=(0,r.Z)({},f,s.l1.STATIC_DRAW);function X(e,t){for(var n=[],r=0;r<5;++r){var a,o=M(r),u={},c=(0,i.Z)(o);try{for(c.s();!(a=c.n()).done;){var s=a.value;u[s]={data:t(r,s)}}}catch(l){c.e(l)}finally{c.f()}n.push({data:e(r),buffers:u})}return n}function Y(e){switch(e){case s.Br.UNSIGNED_BYTE:return 1;case s.Br.UNSIGNED_SHORT_4_4_4_4:return 2;case s.Br.FLOAT:return 4;default:return void v.error(new a.Z("webgl-utils","Unable to handle type ".concat(e)))}}function K(e){switch(e){case s.Br.UNSIGNED_BYTE:return Uint8Array;case s.Br.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case s.Br.FLOAT:return Float32Array;default:return void v.error(new a.Z("webgl-utils","Unable to handle type ".concat(e)))}}function j(e){var t={},n=function(){var n,i=e[r],a=0;t[r]=i.map((function(e){var t=new l.G(e.name,e.count,e.type,a,0,e.normalized||!1);return a+=e.count*function(e){switch(e){case s.g.BYTE:case s.g.UNSIGNED_BYTE:return 1;case s.g.SHORT:case s.g.UNSIGNED_SHORT:return 2;case s.g.FLOAT:case s.g.INT:case s.g.UNSIGNED_INT:return 4}}(e.type),t})),null===(n=t[r])||void 0===n||n.forEach((function(e){return e.stride=a}))};for(var r in e)n();return t}var q=function(e){var t=new Map;for(var n in e){var r,a=(0,i.Z)(e[n]);try{for(a.s();!(r=a.n()).done;){var o=r.value;t.set(o.name,o.location)}}catch(u){a.e(u)}finally{a.f()}}return t},J=function(e){var t={};for(var n in e){var r=e[n];t[n]=null!==r&&void 0!==r&&r.length?r[0].stride:0}return t},$=new Map,Q=function(e,t){if(!$.has(e)){var n=j(t),r={strides:J(n),bufferLayouts:n,attributes:q(t)};$.set(e,r)}return $.get(e)};function ee(e){e(c.LW.FILL),e(c.LW.LINE),e(c.LW.MARKER),e(c.LW.TEXT),e(c.LW.LABEL)}var te=function(e){return"path"in e&&ye(e.path)},ne=function(e){return"url"in e&&e.url||"imageData"in e&&e.imageData},re=function(e){return"imageData"in e&&e.imageData&&"contentType"in e&&e.contentType?"data:".concat(e.contentType,";base64,").concat(e.imageData):"url"in e?e.url:null},ie=function(e){return null!=e&&e.startsWith("data:image/gif")},ae=function(e){return"url"in e&&e.url&&(e.url.includes(".gif")||ie(e.url))||"contentType"in e&&"image/gif"===e.contentType||"imageData"in e&&ie(e.imageData)},oe=function(e){return null!=e&&e.startsWith("data:image/png")},ue=function(e){return"url"in e&&e.url&&(e.url.includes(".png")||oe(e.url))||"contentType"in e&&"image/png"===e.contentType||"imageData"in e&&oe(e.imageData)},ce=function(e){return e.type&&e.type.toLowerCase().includes("3d")};function se(e){switch(e.type){case"line":var t=e;return"CIMSolidStroke"===t.cim.type&&!t.dashTemplate;case"fill":return"CIMSolidFill"===e.cim.type;case"esriSFS":return"esriSFSSolid"===e.style||"esriSFSNull"===e.style;case"esriSLS":return"esriSLSSolid"===e.style||"esriSLSNull"===e.style;default:return!1}}var le=function(e){return e.includes("data:image/svg+xml")};function ve(e){switch("cim"in e?e.cim.type:e.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":return!1;case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":return de(e);default:return!0}}function fe(e){var t="maxVVSize"in e&&e.maxVVSize,n="width"in e&&e.width||"size"in e&&e.size||0;return t||n}function he(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}var ye=function(e){return!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))},de=function(e){var t,n;return"fill"===e.type&&"CIMMarkerPlacementInsidePolygon"===(null===e||void 0===e||null===(t=e.cim)||void 0===t||null===(n=t.markerPlacement)||void 0===n?void 0:n.type)}},38999:function(e,t,n){var r,i;function a(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function o(e){switch(e){case"top":return i.Top;case"middle":return i.Center;case"baseline":return i.Baseline;case"bottom":return i.Bottom}}function u(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[r.Right,i.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[r.Center,i.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[r.Left,i.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[r.Right,i.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[r.Center,i.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[r.Left,i.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[r.Right,i.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[r.Center,i.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[r.Left,i.Top];default:return console.debug("Found invalid placement type ".concat(e)),[r.Center,i.Center]}}function c(e){switch(e){case r.Right:return-1;case r.Center:return 0;case r.Left:return 1;default:return console.debug("Found invalid horizontal alignment ".concat(e)),0}}function s(e){switch(e){case i.Top:return 1;case i.Center:return 0;case i.Bottom:case i.Baseline:return-1;default:return console.debug("Found invalid vertical alignment ".concat(e)),0}}function l(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function v(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}n.d(t,{Hd:function(){return l},M7:function(){return r},NS:function(){return v},TR:function(){return i},b7:function(){return o},g:function(){return c},kH:function(){return a},qv:function(){return u},tf:function(){return s}}),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(r||(r={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(i||(i={}))},65800:function(e,t,n){n.d(t,{Vs:function(){return s},aH:function(){return c},pr:function(){return o},t2:function(){return u}});var r=n(29439),i=n(92026),a=n(73271);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e[t+3];return e[t+0]*=r,e[t+1]*=r,e[t+2]*=r,n||(e[t+3]*=255),e}function u(e){if(!e)return 0;var t=e.r,n=e.g,r=e.b,i=e.a;return(0,a.Jz)(t*i,n*i,r*i,255*i)}function c(e){if(!e)return 0;var t=(0,r.Z)(e,4),n=t[0],i=t[1],o=t[2],u=t[3];return(0,a.Jz)(n*(u/255),i*(u/255),o*(u/255),u)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((0,i.Wi)(t))return e[n+0]=0,e[n+1]=0,e[n+2]=0,void(e[n+3]=0);var r=t.r,a=t.g,o=t.b,u=t.a;e[n+0]=r*u/255,e[n+1]=a*u/255,e[n+2]=o*u/255,e[n+3]=u}},80613:function(e,t,n){var r,i,a,o,u,c,s;n.d(t,{LW:function(){return r},Un:function(){return c},X:function(){return o},jx:function(){return i},mD:function(){return s},mf:function(){return u},pc:function(){return a}}),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(i||(i={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(a||(a={})),function(e){e[e.NONE=0]="NONE",e[e.OPACITY=1]="OPACITY",e[e.COLOR=2]="COLOR",e[e.ROTATION=4]="ROTATION",e[e.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",e[e.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",e[e.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",e[e.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(o||(o={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(u||(u={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(c||(c={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(s||(s={}))},54815:function(e,t,n){n.d(t,{CA:function(){return p},Gq:function(){return b},Xp:function(){return S},a:function(){return V},dk:function(){return _},hF:function(){return g},jj:function(){return L},jy:function(){return d},m2:function(){return m},mE:function(){return Z},qr:function(){return O}});var r=n(11752),i=n(61120),a=n(60136),o=n(29388),u=n(15671),c=n(43144),s=n(4942),l=n(1413),v=n(10064),f=n(38999),h=n(80613);var y=Object.keys(h.mD).filter((function(e){return"number"==typeof h.mD[e]})).reduce((function(e,t){return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},t,h.mD[t]))}),{});function d(e){return e===h.mD.OUTLINE_FILL||e===h.mD.OUTLINE_FILL_SIMPLE}function S(e){return function(e){return e===h.mD.SIMPLE||e===h.mD.OUTLINE_FILL_SIMPLE}(e.symbologyType)}function p(e){return d(e.symbologyType)}function L(e,t){switch(e){case h.LW.FILL:return _.from(t);case h.LW.LINE:return V.from(t);case h.LW.MARKER:return Z.from(t);case h.LW.TEXT:return O.from(t);case h.LW.LABEL:return b.from(t);default:throw new Error("Unable to createMaterialKey for unknown geometryType ".concat(e))}}function g(e){switch(m.load(e).geometryType){case h.LW.MARKER:return new Z(e);case h.LW.FILL:return new _(e);case h.LW.LINE:return new V(e);case h.LW.TEXT:return new O(e);case h.LW.LABEL:return new b(e)}}var m=function(){function e(t){(0,u.Z)(this,e),this._data=0,this._data=t}return(0,c.Z)(e,[{key:"data",get:function(){return this._data},set:function(e){this._data=null!==e&&void 0!==e?e:0}},{key:"geometryType",get:function(){return this.bits(8,11)},set:function(e){this.setBits(e,8,11)}},{key:"mapAligned",get:function(){return!!this.bit(20)},set:function(e){this.setBit(20,e)}},{key:"sdf",get:function(){return!!this.bit(11)},set:function(e){this.setBit(11,null!==e&&void 0!==e&&e)}},{key:"pattern",get:function(){return!!this.bit(12)},set:function(e){this.setBit(12,e)}},{key:"textureBinding",get:function(){return this.bits(0,8)},set:function(e){this.setBits(e,0,8)}},{key:"symbologyType",get:function(){return this.bits(21,26)},set:function(e){this.setBits(e,21,26)}},{key:"geometryTypeString",get:function(){switch(this.geometryType){case h.LW.FILL:return"fill";case h.LW.MARKER:return"marker";case h.LW.LINE:return"line";case h.LW.TEXT:return"text";case h.LW.LABEL:return"label";default:throw new v.Z("Unable to handle unknown geometryType: ".concat(this.geometryType))}}},{key:"setBit",value:function(e,t){var n=1<<e;t?this._data|=n:this._data&=~n}},{key:"bit",value:function(e){return(this._data&1<<e)>>e}},{key:"setBits",value:function(e,t,n){for(var r=t,i=0;r<n;r++,i++)this.setBit(r,0!=(e&1<<i))}},{key:"bits",value:function(e,t){for(var n=0,r=e,i=0;r<t;r++,i++)n|=this.bit(r)<<i;return n}},{key:"hasVV",value:function(){return!1}},{key:"setVV",value:function(e,t){}},{key:"getVariation",value:function(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:h.mD[this.symbologyType],options:y,namespace:"SYMBOLOGY_TYPE"}}}},{key:"getVariationHash",value:function(){return this._data&~(7&this.textureBinding)}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}}]),e}();m.shared=new m(0);var T=function(e){return function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"vvSizeMinMaxValue",get:function(){return 0!==this.bit(16)},set:function(e){this.setBit(16,e)}},{key:"vvSizeScaleStops",get:function(){return 0!==this.bit(17)},set:function(e){this.setBit(17,e)}},{key:"vvSizeFieldStops",get:function(){return 0!==this.bit(18)},set:function(e){this.setBit(18,e)}},{key:"vvSizeUnitValue",get:function(){return 0!==this.bit(19)},set:function(e){this.setBit(19,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t);var a=function(e,t,n){var r=h.X.SIZE_FIELD_STOPS|h.X.SIZE_MINMAX_VALUE|h.X.SIZE_SCALE_STOPS|h.X.SIZE_UNIT_VALUE,i=(t&(h.mf.FIELD_TARGETS_OUTLINE|h.mf.MINMAX_TARGETS_OUTLINE|h.mf.SCALE_TARGETS_OUTLINE|h.mf.UNIT_TARGETS_OUTLINE))>>>4;return e===h.LW.LINE&&n.isOutline||e===h.LW.FILL&&d(n.symbologyType)?r&i:r&~i}(this.geometryType,e,t)&e;this.vvSizeMinMaxValue=!!(a&h.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(a&h.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(a&h.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(a&h.X.SIZE_SCALE_STOPS)}}]),n}(e)},E=function(e){return function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"vvRotation",get:function(){return 0!==this.bit(15)},set:function(e){this.setBit(15,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvRotation}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t),this.vvRotation=!t.isOutline&&!!(e&h.X.ROTATION)}}]),n}(e)},I=function(e){return function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"vvColor",get:function(){return 0!==this.bit(13)},set:function(e){this.setBit(13,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvColor}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t),this.vvColor=!t.isOutline&&!!(e&h.X.COLOR)}}]),n}(e)},A=function(e){return function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"vvOpacity",get:function(){return 0!==this.bit(14)},set:function(e){this.setBit(14,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvOpacity}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t),this.vvOpacity=!t.isOutline&&!!(e&h.X.OPACITY)}}]),n}(e)},_=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=e.symbologyType,n=e.vvFlags,r=this.load(0);return r.geometryType=h.LW.FILL,r.symbologyType=t,t!==h.mD.DOT_DENSITY&&r.setVV(n,e),r.data}}]),n}(I(A(T(m))));_.shared=new _(0);var Z=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=e.symbologyType,n=e.vvFlags,r=this.load(0);return r.geometryType=h.LW.MARKER,r.symbologyType=t,t!==h.mD.HEATMAP&&r.setVV(n,e),r.data}}]),n}(I(A(E(T(m)))));Z.shared=new Z(0);var V=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=h.LW.LINE,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}}]),n}(I(A(T(m))));V.shared=new V(0);var O=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=h.LW.TEXT,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}}]),n}(I(A(E(T(m)))));O.shared=new O(0);var b=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=h.LW.LABEL,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.mapAligned=(0,f.NS)(e.placement),t.data}}]),n}(T(m));b.shared=new b(0)},73271:function(e,t,n){n.d(t,{Au:function(){return i},Jz:function(){return o},UJ:function(){return a}});var r=new Float32Array(1);new Uint32Array(r.buffer);function i(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function a(e,t){return 65535&e|t<<16}function o(e,t,n,r){return 255&e|(255&t)<<8|(255&n)<<16|r<<24}},10435:function(e,t,n){n.d(t,{v:function(){return o}});var r=n(15671),i=n(43144),a=n(92026),o=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"getStorageSpec",value:function(e){return null}},{key:"createOrUpdateRendererSchema",value:function(e,t){return(0,a.pC)(e)&&"default"===e.type?e:{type:"default"}}},{key:"getVariation",value:function(e){return{}}},{key:"getVariationHash",value:function(e){return 0}}]),e}();o.type="default",o.programSpec=null},30575:function(e,t,n){n.d(t,{T:function(){return f}});var r=n(15671),i=n(43144),a=n(60136),o=n(29388),u=n(92026),c=n(65800),s=n(94109),l=n(10435),v=n(8548),f=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,null,[{key:"getStorageSpec",value:function(e){var t=e.attributes;return{visualVariables:!1,attributes:null!==t&&void 0!==t?t:null}}},{key:"_createRendererSchema",value:function(){return{type:"dot-density",colors:new Float32Array(32),dotValue:-1,dotSize:-1,dotScale:-1,dotBlending:!1,backgroundColor:new Float32Array(4),activeDots:new Float32Array(8),seed:-1}}},{key:"createOrUpdateRendererSchema",value:function(e,t){var n=t.attributes,r=t.dotValue,i=t.referenceScale,a=t.dotSize,o=t.dotBlendingEnabled,l=t.seed,v=t.backgroundColor,f=(0,u.pC)(e)&&"dot-density"===e.type?e:this._createRendererSchema();f.dotValue=r,f.dotSize=a,f.dotScale=i,f.dotBlending=o,f.seed=l;for(var h=f.colors,y=f.activeDots,d=f.backgroundColor,S=0;S<s.$0;S++){var p=S>=n.length?null:n[S].color;(0,c.Vs)(h,p,4*S)}for(var L=0;L<8;L++)y[L]=L<t.attributes.length?1:0;return(0,c.Vs)(d,v),f}},{key:"getVariation",value:function(e){return{ddDotBlending:e.dotBlending}}},{key:"getVariationHash",value:function(e){return e.dotBlending?1:0}}]),n}(l.v);f.type="dot-density",f.programSpec={shader:"materials/fill",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:v.g.SHORT},{location:1,name:"a_id",count:3,type:v.g.UNSIGNED_BYTE},{location:2,name:"a_bitset",count:1,type:v.g.UNSIGNED_BYTE},{location:3,name:"a_inverseArea",count:1,type:v.g.FLOAT}]}}},41768:function(e,t,n){n.d(t,{h:function(){return f}});var r=n(15671),i=n(43144),a=n(60136),o=n(29388),u=n(92026),c=n(17842),s=n(27811),l=n(10435),v=n(8548),f=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,null,[{key:"getStorageSpec",value:function(e){var t=e.field,n=e.valueExpression;return{visualVariables:!1,attributes:t||n?[{field:t,valueExpression:n}]:null}}},{key:"_createRendererSchema",value:function(){return{type:"heatmap",radius:-1,referenceScale:-1,isFieldActive:0,minDensity:-1,densityRange:-1,kernel:null,gradient:null,gradientHash:"invalid"}}},{key:"createOrUpdateRendererSchema",value:function(e,t){var n,r=t.radius,i=t.minDensity,a=t.maxDensity,o=t.referenceScale,l=t.field,v=t.valueExpression,f=t.colorStops,h=a-i,y=l||v?1:0,d=f.map((function(e){var t=e.color,n=e.ratio;return"".concat(n,":").concat(t.toString())})).join(),S=!0;return(0,u.pC)(e)&&"heatmap"===e.type?(n=e,S=d!==e.gradientHash):n=this._createRendererSchema(),n.radius=(0,c.F2)(r),n.minDensity=i,n.densityRange=h,n.referenceScale=o,n.isFieldActive=y,S&&(n.gradient=(0,s.uI)(f),n.gradientHash=d),n}}]),n}(l.v);f.type="heatmap",f.programSpec={shader:"materials/icon/heatmapAccumulate",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:v.g.SHORT},{location:1,name:"a_vertexOffset",count:2,type:v.g.SHORT},{location:4,name:"a_id",count:4,type:v.g.UNSIGNED_BYTE}]}}},78020:function(e,t,n){n.d(t,{c:function(){return y}});var r=n(15671),i=n(43144),a=n(60136),o=n(29388),u=n(51995),c=n(92026),s=n(17842),l=n(65800),v=n(94109),f=n(10435),h=n(8548),y=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,null,[{key:"getStorageSpec",value:function(e){var t=e.attributes;return{visualVariables:!0,attributes:null!==t&&void 0!==t?t:null}}},{key:"_createRendererSchema",value:function(){return{type:"pie-chart",colors:new Float32Array(4*v.eV),defaultColor:new Float32Array(4),othersColor:new Float32Array(4),outlineColor:new Float32Array(4),holePercentage:0,sectorThreshold:0,outlineWidth:1,numberOfFields:10}}},{key:"createOrUpdateRendererSchema",value:function(e,t){for(var n=t.attributes,r=t.defaultColor,i=t.holePercentage,a=t.othersCategory,o=t.outline,f=(0,c.pC)(e)&&"pie-chart"===e.type?e:this._createRendererSchema(),h=0;h<v.eV;h++){var y=h>=n.length?new u.Z([0,0,0,0]):n[h].color;(0,l.Vs)(f.colors,y,4*h)}return(0,l.Vs)(f.defaultColor,r),(0,l.Vs)(f.othersColor,null===a||void 0===a?void 0:a.color),(0,l.Vs)(f.outlineColor,null===o||void 0===o?void 0:o.color),f.outlineWidth=(0,s.F2)((null===o||void 0===o?void 0:o.width)||0),f.holePercentage=i,f.sectorThreshold=(null===a||void 0===a?void 0:a.threshold)||0,f.numberOfFields=n.length,f}},{key:"getVariation",value:function(e){return{numberOfFields:e.numberOfFields}}},{key:"getVariationHash",value:function(e){return e.numberOfFields}}]),n}(f.v);y.type="pie-chart",y.programSpec={shader:"materials/pie",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:h.g.SHORT},{location:1,name:"a_vertexOffset",count:2,type:h.g.SHORT},{location:2,name:"a_texCoords",count:2,type:h.g.UNSIGNED_SHORT},{location:3,name:"a_bitSetAndDistRatio",count:2,type:h.g.UNSIGNED_SHORT},{location:4,name:"a_id",count:4,type:h.g.UNSIGNED_BYTE},{location:5,name:"a_color",count:4,type:h.g.UNSIGNED_BYTE,normalized:!0},{location:6,name:"a_outlineColor",count:4,type:h.g.UNSIGNED_BYTE,normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:h.g.UNSIGNED_BYTE},{location:8,name:"a_zoomRange",count:2,type:h.g.UNSIGNED_SHORT}]},hittestAttributes:["a_vertexOffset","a_texCoords"]}},98029:function(e,t,n){n.d(t,{EJ:function(){return v},a1:function(){return f},t4:function(){return l}});var r=n(10064),i=n(80613),a=n(54815),o=n(10435),u=n(30575),c=n(41768),s=n(78020);function l(e,t){if(e.type!==t)throw new r.Z("material-view-model:unexpected-renderer-schema",'expected to find renderer schema of type "'.concat(t,'" but found type "').concat(e.type,'"'))}function v(e){switch(null===e||void 0===e?void 0:e.type){case"dot-density":return u.T;case"heatmap":return c.h;case"pie-chart":return s.c;default:return o.v}}function f(e){var t=a.m2.load(e),n=t.geometryType,r=t.symbologyType;switch(n){case i.LW.FILL:if(r===i.mD.DOT_DENSITY)return u.T;break;case i.LW.MARKER:switch(r){case i.mD.HEATMAP:return c.h;case i.mD.PIE_CHART:return s.c}}return o.v}},61109:function(e,t,n){n.d(t,{G:function(){return a}});var r=n(43144),i=n(15671),a=(0,r.Z)((function e(t,n,r,a,o){var u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;(0,i.Z)(this,e),this.name=t,this.count=n,this.type=r,this.offset=a,this.stride=o,this.normalized=u,this.divisor=c}))}}]);
//# sourceMappingURL=2736.dc816f94.chunk.js.map